{"ast":null,"code":"import _regeneratorRuntime from\"/home/lordadhaar/repos/WeatherApp-react-tlwnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/home/lordadhaar/repos/WeatherApp-react-tlwnd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/lordadhaar/repos/WeatherApp-react-tlwnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/lordadhaar/repos/WeatherApp-react-tlwnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import Inputs from\"./components/Inputs\";import TimeAndLocation from\"./components/TimeAndLocation\";import TemperatureAndDetails from\"./components/TemperatureAndDetails\";import Forecast from\"./components/Forecast\";import getFormattedWeatherData from\"./services/weatherService\";import{useEffect,useState}from\"react\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({q:\"Toronto\"}),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"metric\"),_useState4=_slicedToArray(_useState3,2),units=_useState4[0],setUnits=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),weather=_useState6[0],setWeather=_useState6[1];useEffect(function(){var fetchWeather=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getFormattedWeatherData(_objectSpread(_objectSpread({},query),{},{units:units})).then(function(data){toast.success(\"Successfully fetched weather for \".concat(data.name,\", \").concat(data.country,\".\"));console.log(data);setWeather(data);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);toast.error(\"Please enter a valid city\");case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function fetchWeather(){return _ref.apply(this,arguments);};}();fetchWeather();},[query,units]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto rounded-[32px] max-w-screen-md py-[20px] px-[40px] bg-gradient-to-br  h-fit shadow-xl black-400  bg-black/20 backdrop-blur-[32px] max-xs:rounded-none \",children:[/*#__PURE__*/_jsx(Inputs,{setQuery:setQuery,units:units,setUnits:setUnits}),weather&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TimeAndLocation,{weather:weather}),/*#__PURE__*/_jsx(TemperatureAndDetails,{weather:weather}),/*#__PURE__*/_jsx(Forecast,{title:\"hourly forecast\",items:weather.hourly}),/*#__PURE__*/_jsx(Forecast,{title:\"daily forecast\",items:weather.daily})]}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:5000,theme:\"colored\",newestOnTop:true})]});}export default App;","map":{"version":3,"names":["Inputs","TimeAndLocation","TemperatureAndDetails","Forecast","getFormattedWeatherData","useEffect","useState","ToastContainer","toast","App","q","query","setQuery","units","setUnits","weather","setWeather","fetchWeather","then","data","success","name","country","console","log","error","hourly","daily"],"sources":["/home/lordadhaar/repos/WeatherApp-react-tlwnd/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport Inputs from \"./components/Inputs\";\nimport TimeAndLocation from \"./components/TimeAndLocation\";\nimport TemperatureAndDetails from \"./components/TemperatureAndDetails\";\nimport Forecast from \"./components/Forecast\";\nimport getFormattedWeatherData from \"./services/weatherService\";\nimport { useEffect, useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction App() {\n  const [query, setQuery] = useState({ q: \"Toronto\" });\n  const [units, setUnits] = useState(\"metric\");\n  const [weather, setWeather] = useState(null);\n\n  useEffect(() => {\n    const fetchWeather = async () => {\n      try{\n        await getFormattedWeatherData({ ...query, units }).then((data) => {\n          toast.success(\n            `Successfully fetched weather for ${data.name}, ${data.country}.`\n          );\n          console.log(data)\n          setWeather(data);\n        });\n      }\n      catch(err){\n        toast.error(\"Please enter a valid city\")\n      }\n      \n    };\n\n    fetchWeather();\n  }, [query, units]);\n\n  return (\n    <div\n      className={`mx-auto rounded-[32px] max-w-screen-md py-[20px] px-[40px] bg-gradient-to-br  h-fit shadow-xl black-400  bg-black/20 backdrop-blur-[32px] max-xs:rounded-none `}\n    >\n      <Inputs setQuery={setQuery} units={units} setUnits={setUnits} />\n\n      {weather && (\n        <div>\n          <TimeAndLocation weather={weather} />\n          <TemperatureAndDetails weather={weather} />\n\n          <Forecast title=\"hourly forecast\" items={weather.hourly} />\n          <Forecast title=\"daily forecast\" items={weather.daily} />\n        </div>\n      )}\n\n      <ToastContainer autoClose={5000} theme=\"colored\" newestOnTop={true} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"2hBAAA,MAAO,WAAP,CACA,MAAOA,OAAP,KAAmB,qBAAnB,CACA,MAAOC,gBAAP,KAA4B,8BAA5B,CACA,MAAOC,sBAAP,KAAkC,oCAAlC,CACA,MAAOC,SAAP,KAAqB,uBAArB,CACA,MAAOC,wBAAP,KAAoC,2BAApC,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,uCAAP,C,wFAEA,QAASC,IAAT,EAAe,CACb,cAA0BH,QAAQ,CAAC,CAAEI,CAAC,CAAE,SAAL,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eACA,eAA0BN,QAAQ,CAAC,QAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eACA,eAA8BR,QAAQ,CAAC,IAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAEAX,SAAS,CAAC,UAAM,CACd,GAAMY,aAAY,4FAAG,2KAEXb,wBAAuB,gCAAMO,KAAN,MAAaE,KAAK,CAALA,KAAb,GAAvB,CAA6CK,IAA7C,CAAkD,SAACC,IAAD,CAAU,CAChEX,KAAK,CAACY,OAAN,4CACsCD,IAAI,CAACE,IAD3C,cACoDF,IAAI,CAACG,OADzD,OAGAC,OAAO,CAACC,GAAR,CAAYL,IAAZ,EACAH,UAAU,CAACG,IAAD,CAAV,CACD,CANK,CAFW,sFAWjBX,KAAK,CAACiB,KAAN,CAAY,2BAAZ,EAXiB,mEAAH,kBAAZR,aAAY,0CAAlB,CAgBAA,YAAY,GACb,CAlBQ,CAkBN,CAACN,KAAD,CAAQE,KAAR,CAlBM,CAAT,CAoBA,mBACE,aACE,SAAS,iKADX,wBAGE,KAAC,MAAD,EAAQ,QAAQ,CAAED,QAAlB,CAA4B,KAAK,CAAEC,KAAnC,CAA0C,QAAQ,CAAEC,QAApD,EAHF,CAKGC,OAAO,eACN,oCACE,KAAC,eAAD,EAAiB,OAAO,CAAEA,OAA1B,EADF,cAEE,KAAC,qBAAD,EAAuB,OAAO,CAAEA,OAAhC,EAFF,cAIE,KAAC,QAAD,EAAU,KAAK,CAAC,iBAAhB,CAAkC,KAAK,CAAEA,OAAO,CAACW,MAAjD,EAJF,cAKE,KAAC,QAAD,EAAU,KAAK,CAAC,gBAAhB,CAAiC,KAAK,CAAEX,OAAO,CAACY,KAAhD,EALF,GANJ,cAeE,KAAC,cAAD,EAAgB,SAAS,CAAE,IAA3B,CAAiC,KAAK,CAAC,SAAvC,CAAiD,WAAW,CAAE,IAA9D,EAfF,GADF,CAmBD,CAED,cAAelB,IAAf"},"metadata":{},"sourceType":"module"}